<app-header></app-header>

<div class="container-fluid mt-3 d-flex flex-wrap">
    <ng-container *ngFor="let employee of leaveRequest; index as idx">
        <div class="notificationCard mx-4">
            <svg class="bellIcon" viewBox="0 0 448 512">
                <path
                    d="M224 0c-17.7 0-32 14.3-32 32V51.2C119 66 64 130.6 64 208v18.8c0 47-17.3 92.4-48.5 127.6l-7.4 8.3c-8.4 9.4-10.4 22.9-5.3 34.4S19.4 416 32 416H416c12.6 0 24-7.4 29.2-18.9s3.1-25-5.3-34.4l-7.4-8.3C401.3 319.2 384 273.9 384 226.8V208c0-77.4-55-142-128-156.8V32c0-17.7-14.3-32-32-32zm45.3 493.3c12-12 18.7-28.3 18.7-45.3H224 160c0 17 6.7 33.3 18.7 45.3s28.3 18.7 45.3 18.7s33.3-6.7 45.3-18.7z">
                </path>
            </svg>
            <p class="notificationHeading mb-1">{{employee.employeeName}}</p>
            <p class="notificationHeading mb-1">Employee ID : {{employee.employeeId}}</p>
            <p class="notificationHeading mb-1">Number Of Leaves : {{employee.numberOfLeaves}}</p>
            <p class="notificationHeading mb-1">Current Leave Status : {{employee.status}}</p>
            <div class="buttonContainer" *ngIf="employee.status != 'Approved' ">
                <button class="allowBtn py-2 mb-2 " (click)="allowRequest(employee)">Allow</button>
                <button class="btn py-2 rounded-pill btn-sm btn-outline-danger" (click)="showModal=true;">Deny</button>
            </div>
        </div>
        
        
        <!-- Modal content -->
        <div class="modal" *ngIf="showModal">
            <div class="modal-content">
                <div class="d-flex justify-content-between align-items-center">
            <span class="text-danger fs-5 fw-bold">Are you sure?</span>
            <span class="close" (click)="showModal=false;">&times;</span>
        </div>
        <div class="d-flex justify-content-center mt-4 text-center">
            <button class="btn btn-danger" (click)="showModal=false;">Close</button>
            <button class="btn btn-outline-danger mx-2" (click)="showModal=false; denyRequest(idx) ">Deny</button>
        </div>
    </div>
</div>

<div class="modal-backdrop fade" *ngIf="showModal"></div>
</ng-container>

</div>

<ng-container *ngIf="leaveRequest.length == 0">
    <div class="display-6"> No Request For Now</div>
</ng-container>

